/**********
     TITLE: Music Object Extension - Callbacks
   VERSION: 1.2.0
    AUTHOR: Chris van Rensburg
 COPYRIGHT: 1996-2001 Beatnik, Inc. All Rights Reserved
  REQUIRES: music-object.js (3.3.0 or higher)
**********/
function mo_execMetaEventHandlers(_a,_b){if(typeof this.onMetaEventHandlers!='undefined'){for(var _c=0;_c<this.onMetaEventHandlers.length;_c++)this.onMetaEventHandlers[_c](_a,_b,this);}}function mo_removeCallbackHandlers(_d,_e){var _f=Music.isInstance(this),_g=_f?this:Music,_h=typeof _d=='undefined'||_d==null||_d=='[all]',_i=typeof _e=='undefined'||_e==null||_e=='[all]',_j=Music['public'+(_f?'Instance':'Static')+'Callbacks'],_k=false;for(var _l=0;_l<_j.length;_l++){var _m=_j[_l];if((_h||_m==_d)&&typeof _g[_m+'Handlers']!='undefined'){var _n=_g[_m+'Handlers'];if(_i){_n.length=0;_k=true;}else{var _o=0,_p=false;for(var _c=0;_c<_n.length-_o;_c+=_p?0:1){if(_o>0)_n[_c]=_n[_c+_o];_p=_i||_n[_c]==_e;if(_p)_o++;}_n.length-=_o;_k=_o>0;}}}if(_f&&_d=='onMetaEvent'||_h)_g.updateMetaEventsEnabled();
return _k;}function mo_clearCallbackHandlers(_q){if(typeof this[_q+'Handlers']!='undefined')this[_q+'Handlers'].length=0;if(_q=='onMetaEvent')this.updateMetaEventsEnabled();this[_q](null);}function MO_x0_a(_d,_r,_e){this.type=_d;this.value=_r;this.handler=_e;}function MO_x0_b(_d,_r,_s){var _h=_d=='[all]',_t=_r=='[all]';for(var _c=0;_c<_s.MO_x0_c.length;_c++){var _u=_s.MO_x0_c[_c];if((_h||_u.type==_d)&&(_t||_u.value==_r))_u.handler(_d,_r,_s);}}function mo_addMetaEventHandler(_d,_r,_e,_v){if(typeof this.MO_x0_c=='undefined')this.MO_x0_c=new Array();if(typeof _v=='boolean'&&_v)this.removeMetaEventHandlers(_d,_r);if(this.MO_x0_c.length==0)this.addCallbackHandler('onMetaEvent',MO_x0_b);this.MO_x0_c[this.MO_x0_c.length]=new MO_x0_a(_d,_r,_e);}function mo_removeMetaEventHandlers(_d,_r,_e){if(typeof this.MO_x0_c!='undefined'){var _o=0,_p=false,_h=typeof _d=='undefined'||_d==null||_d=='[all]',_t=typeof _r=='undefined'||_r==null||_r=='[all]',_i=typeof _e=='undefined'||_e==null||_e=='[all]',_w=this.MO_x0_c;
if(_h&&_t&&_i){_w.length=0;}else{for(var _c=0;_c<_w.length-_o;_c+=_p?0:1){var _x=_w[_c];if(_o>0){var _y=_w[_c+_o];_x.type=_y.type;_x.value=_y.value;_x.handler=_y.handler;}_p=(_h||_x.type==_d)&&(_t||_x.value==_r)&&(_i||_x.handler==_e);if(_p)_o++;}_w.length-=_o;}if(_w.length==0)this.removeOnMetaEvent(MO_x0_b);}}function mo_clearCallbacks(){var _g=this,_j=Music.publicInstanceCallbacks;_g.removeMetaEventHandlers();_g.removeCallbackHandlers();for(var _l=0;_l<_j.length;_l++)_g[_q+'Handler']=null;}function MO_x0_d(){var _z=Music;_z.MO_x0_e++;if(!_z.MO_x0_f){_z.MO_x0_f=true;_z.execCallback('onFirstReady');}if(_z.MO_x0_e==_z.instances.length)_z.execCallback('onReady');}function MO_x0_g(_g){_g.addCallbackHandler('onReady',MO_x0_d);}Music.addInstanceExtender(MO_x0_g);function MO_x0_h(){for(var _l=0;_l<Music.publicInstanceCallbacks.length;_l++){var _m=Music.publicInstanceCallbacks[_l],_A=_m.charAt(0).toUpperCase()+_m.substr(1);window['mo_add'+_A]=new Function('handler','this.addCallbackHandler (\''+_m+'\',handler)');
window['mo_remove'+_A]=new Function('handler','this.removeCallbackHandlers (\''+_m+'\',handler)');window['mo_clear'+_A]=new Function('handler','this.clearCallbackHandlers (\''+_m+'\')');Music.addPublicInstanceMethods('add'+_A,'remove'+_A,'clear'+_A);}}MO_x0_h();Music.addPublicCallbacks('[static]','onFirstReady','onReady');Music.MO_x0_e=0;Music.MO_x0_f=false;Music.addPublicInstanceMethods('addMetaEventHandler','clearCallbacks','clearCallbackHandlers','removeMetaEventHandlers','removeCallbackHandlers');Music.addPublicStaticMethods('removeCallbackHandlers');