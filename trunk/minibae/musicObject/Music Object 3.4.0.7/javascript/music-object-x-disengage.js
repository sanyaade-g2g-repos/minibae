/**********
     TITLE: Music Object Extension - Auto Disengage
   VERSION: 1.0.0.17
    AUTHOR: Chris van Rensburg
 COPYRIGHT: 2000-2001 Beatnik, Inc. All Rights Reserved
  REQUIRES: music-object.js (3.3.0 or higher)
**********/
function mo_mediaLinkClicked(){Music.MO_x4_a=true;Music.MO_x4_b=false;if(Music.autoDisengageEnabled){Music.engageAudio(false);if(Music.mediaLinkShutoutTime!=0){Music.inLinkShutout=true;setTimeout('Music.inLinkShutout = false',Music.mediaLinkShutoutTime);}}}function mo_initializeAutoDisengage(){var _a=Music;if(_a.mediaLinkInterception&& !_a.isAudioDeviceShared()&&(_a.mediaLinksNoOnClicks||_a.clientName!='Netscape'|| !_a.meetsMinVersion(_a.clientVersion,'5'))){var _b=document.links,_c=_a.MO_x4_c.toLowerCase();for(var _d=0;_d<_b.length;_d++){var _e=_b[_d],_f=_e.href.lastIndexOf('.'),_g=_e.href.substr(_f+1).toLowerCase();if(_c.indexOf('|'+_g+'|')!= -1)_a.addEventHandler(window,_e,'onclick','mo_mediaLinkClicked ()');}}}function mo_autoDisengageWindowOnClick(){if(Music.MO_x4_a){
Music.MO_x4_a=false;}else{Music.MO_x4_b=true;window.focus();}}function mo_autoDisengageWindowOnFocus(){Music.MO_x4_b=true;}function mo_autoDisengageWindowOnBlur(){Music.MO_x4_b=false;}function mo_updateAutoDisengage(_h){var _a=Music;_a.MO_x4_d+=_h?1: -1;if(_h){_a.clearTimeout(_a,'autoDisengageTimeout');if(_a.autoDisengageEnabled&& !_a.inLinkShutout&&(_a.autoEngageMode=='always'||(_a.autoEngageMode=='when focused'&&_a.MO_x4_b)))_a.engageAudio(true);}else if(_a.autoDisengageEnabled&&_a.MO_x4_d<=0){_a.autoDisengageTimeout=setTimeout('Music.engageAudio (false);',_a.autoDisengageDelay);}}function mo_addMediaFileExtensions(_i){Music.MO_x4_c+='*'+_i;}function MO_x4_e(_j){_j.addCallbackHandler('onAudibleStateChange','mo_updateAutoDisengage ('+_j.objectName+'.audible)');}Music.addInstanceExtender(MO_x4_e);Music.MO_x4_d=0;Music.autoDisengageTimeout=null;Music.MO_x4_b=true;Music.inLinkShutout=false;Music.MO_x4_c='QuickTime |aif|aifc|aiff|au|kar|mid|midi|mov|qcp|qt|qts|rts|rtsp|sd2|smf|snd|ulw|wav|'+
'Cakewalk |mff|mid|rmi|smf|'+'Windows Media Player |au|avi|m1v|m3u|mpa|mpe|mpeg|mpv2|snd|wav|'+'RealPlayer |aif|aiff|au|avi|m3u|mp1|mp2|mp3|mpa|mpeg|mpg|mpga|mpv|pls|ra|ram|rf|rm|rmm|rnx|rv|ssm|wav|xpl|'+'Liquid Player |la1|lar|lav|lavs|lqp|lqt|lsl|'+'Winamp |669|asx|cda|dsm|far|it|m3u|med|mid|mod|mp2|mp3|mpg|mtm|pls|s3m|stm|ult|voc|wav|xm|';Music.autoDisengageDelay=500;Music.autoDisengageEnabled=true;Music.autoEngageMode='always';Music.mediaLinkInterception=true;Music.mediaLinkShutoutTime=4000;Music.mediaLinksNoOnClicks=false;Music.addEventHandler(window,window,'onload','mo_initializeAutoDisengage ()');Music.addEventHandler(window,window,'onfocus','mo_autoDisengageWindowOnFocus ()');Music.addEventHandler(window,window,'onblur','mo_autoDisengageWindowOnBlur ()');Music.addPublicStaticMethods('addMediaFileExtensions','mediaLinkClicked');